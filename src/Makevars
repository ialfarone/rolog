PKG_CPPFLAGS=-I../inst/swipl/lib/swipl/include $(CXXPICFLAGS) -D_REENTRANT -D__SWI_PROLOG__ -D__SWI_EMBEDDED__
PKG_LIBS=-Wl,-Bsymbolic-functions -L../inst/swipl/lib/swipl/lib/x86_64-linux -lswipl_static -lgmp

all: swipl $(SHLIB)

swipl:
	mkdir -p ../linux
	cd ../linux && cmake -DCMAKE_INSTALL_PREFIX=../inst/swipl -DSWIPL_STATIC_LIB=ON -DMULTI_THREADED=OFF ../src/swipl-devel && make && make install
