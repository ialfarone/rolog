<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Matthias Gondan" />


<title>Rolog: prolog queries from R</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>
<script>// Hide empty <a> tag within highlighted CodeBlock for screen reader accessibility (see https://github.com/jgm/pandoc/issues/6352#issuecomment-626106786) -->
// v0.0.1
// Written by JooYoung Seo (jooyoung@psu.edu) and Atsushi Yasumoto on June 1st, 2020.

document.addEventListener('DOMContentLoaded', function() {
  const codeList = document.getElementsByClassName("sourceCode");
  for (var i = 0; i < codeList.length; i++) {
    var linkList = codeList[i].getElementsByTagName('a');
    for (var j = 0; j < linkList.length; j++) {
      if (linkList[j].innerHTML === "") {
        linkList[j].setAttribute('aria-hidden', 'true');
      }
    }
  }
});
</script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>


<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Rolog: prolog queries from R</h1>
<h4 class="author">Matthias Gondan</h4>
<h4 class="date">Department of Psychology, University of Innsbruck, Austria</h4>



<p>Matthias Gondan<br />
Department of Psychology<br />
University of Innsbruck<br />
Innrain 9<br />
A-6020 Innsbruck<br />
<a href="mailto:Matthias.Gondan-Rochon@uibk.ac.at" class="email">Matthias.Gondan-Rochon@uibk.ac.at</a></p>
<p>Supported by the European Commission (Erasmus+ project QHelp, 2019-1-EE01-KA203-051708).</p>
<div id="abstract" class="section level1">
<h1>Abstract</h1>
<p>Prolog is a classical logic programming language with many applications in expert systems, computer linguistics and traditional, that is, symbolic artificial intelligence. The main strength of Prolog is its concise representation of facts and rules for the representation of knowledge and grammar, as well as its very efficient built in search engine for closed world domains. R is a statistical programming language for data analysis and statistical modeling which is widely used in academia and industry. Besides the core library, a lot of packages have been developed for all kinds of statistical problems, including new-style artificial intelligence tools such as neural networks for machine learning and deep learning. Whereas Prolog is weak in statistical computation, but strong in symbolic manipulation, the converse may be said for the R language. SWI-Prolog is a widely used prolog system that offers a wide range of extensions for real world applications, and there already exist two so-called prolog packs to invoke R (rserve-client, Real) from SWI-Prolog. However, given the large user community of R, there may also be a need for a connection in the reverse direction that allows R programmers to embed prolog queries in their computations. The R package Rolog embeds the SWI-Prolog system into an R package, thus enabling R communicate with prolog in both directions, so that deterministic and non-deterministic queries can be sent to the prolog interpreter. Usage of the Rolog library is illustrated by a few examples.</p>
<div id="keywords" class="section level2">
<h2>Keywords</h2>
<p>Statistics; Logical Programming; Artificial Intelligence</p>
</div>
</div>
<div id="rolog-prolog-queries-from-r" class="section level1">
<h1>Rolog: prolog queries from R</h1>
<p>etc.</p>
</div>
<div id="examples" class="section level1">
<h1>Examples</h1>
<p>In the last section I present a few usage examples for the Rolog package in increasing complexity. Although the code snippets are mostly self-explanatory, some familiarity with the Prolog language is helpful.</p>
<div id="hello-world" class="section level2">
<h2>Hello, world</h2>
<p>Prolog’s typical “hello world” example is a search through a directed acyclic graph, for example, a family tree like the one given in Listing 1.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode prolog"><code class="sourceCode prolog"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a>female(pam)<span class="kw">.</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a>female(pat)<span class="kw">.</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true"></a>female(ann)<span class="kw">.</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true"></a>male(tom)<span class="kw">.</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true"></a>male(bob)<span class="kw">.</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true"></a>male(jim)<span class="kw">.</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true"></a>parent(pam<span class="kw">,</span> bob)<span class="kw">.</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true"></a>parent(tom<span class="kw">,</span> bob)<span class="kw">.</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true"></a>parent(bob<span class="kw">,</span> ann)<span class="kw">.</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true"></a>parent(bob<span class="kw">,</span> pat)<span class="kw">.</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true"></a>parent(pat<span class="kw">,</span> jim)<span class="kw">.</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true"></a></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true"></a>mother(<span class="dt">X</span><span class="kw">,</span> <span class="dt">Y</span>) <span class="kw">:-</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true"></a>    parent(<span class="dt">X</span><span class="kw">,</span> <span class="dt">Y</span>)<span class="kw">,</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true"></a>    female(<span class="dt">X</span>)<span class="kw">.</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true"></a></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true"></a>brother(<span class="dt">X</span><span class="kw">,</span> <span class="dt">Y</span>) <span class="kw">:-</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true"></a>    parent(<span class="dt">Z</span><span class="kw">,</span> <span class="dt">X</span>)<span class="kw">,</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true"></a>    parent(<span class="dt">Z</span><span class="kw">,</span> <span class="dt">Y</span>)<span class="kw">,</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true"></a>    male(<span class="dt">X</span>)<span class="kw">,</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true"></a>    dif(<span class="dt">X</span><span class="kw">,</span> <span class="dt">Y</span>)<span class="kw">.</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true"></a></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true"></a>ancestor(<span class="dt">X</span><span class="kw">,</span> <span class="dt">Z</span>) <span class="kw">:-</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true"></a>    parent(<span class="dt">X</span><span class="kw">,</span> <span class="dt">Z</span>)<span class="kw">.</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true"></a></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true"></a>ancestor(<span class="dt">X</span><span class="kw">,</span> <span class="dt">Z</span>) <span class="kw">:-</span></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true"></a>    parent(<span class="dt">X</span><span class="kw">,</span> <span class="dt">Y</span>)<span class="kw">,</span></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true"></a>    ancestor(<span class="dt">Y</span><span class="kw">,</span> <span class="dt">Z</span>)<span class="kw">.</span></span></code></pre></div>
<p>Listing 1. A family tree in prolog.</p>
<p>The listing is included in the package and can be accessed from R using the function <code>system.file(…)</code>. Within prolog, the normal workflow is to consult the code with <code>[family]</code> and then to raise queries such as <code>ancestor(X, jim)</code>, which returns, one by one, four solutions for the variable <em>X</em>. In R, we obtain the following results:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a><span class="kw">library</span>(rolog)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true"></a><span class="co">#&gt; Welcome to SWI-Prolog (threaded, 64 bits, version 8.5.3)</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true"></a><span class="co">#&gt; SWI-Prolog comes with ABSOLUTELY NO WARRANTY. This is free software.</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true"></a><span class="co">#&gt; Please run ?- license. for legal details.</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true"></a><span class="co">#&gt; For online help and background, visit https://www.swi-prolog.org</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true"></a><span class="co">#&gt; For built-in help, use ?- help(Topic). or ?- apropos(Word).</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true"></a><span class="co"># [family].</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true"></a><span class="kw">consult</span>(<span class="kw">system.file</span>(<span class="kw">file.path</span>(<span class="st">&quot;pl&quot;</span>, <span class="st">&quot;family.pl&quot;</span>), <span class="dt">package=</span><span class="st">&quot;rolog&quot;</span>))</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true"></a><span class="co">#&gt; [1] TRUE</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true"></a></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true"></a><span class="co"># findall(ancestor(X, jim)).</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true"></a><span class="kw">findall</span>(<span class="kw">call</span>(<span class="st">&quot;ancestor&quot;</span>, <span class="kw">expression</span>(X), <span class="kw">quote</span>(jim)))</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true"></a><span class="co">#&gt; [[1]]$X</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true"></a><span class="co">#&gt; pat</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true"></a><span class="co">#&gt; [[2]]</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true"></a><span class="co">#&gt; [[2]]$X</span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true"></a><span class="co">#&gt; pam</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true"></a><span class="co">#&gt; [[3]]</span></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true"></a><span class="co">#&gt; [[3]]$X</span></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true"></a><span class="co">#&gt; tom</span></span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true"></a><span class="co">#&gt; [[4]]</span></span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true"></a><span class="co">#&gt; [[4]]$X</span></span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true"></a><span class="co">#&gt; bob</span></span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true"></a><span class="co">#&gt; attr(,&quot;query&quot;)</span></span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true"></a><span class="co">#&gt; [1] &quot;ancestor(X, jim)&quot;</span></span></code></pre></div>
<p>As stated above, <code>consult()</code> loads the facts and rules of Listing 1 into the database. <code>findall(expr)</code> searches for all solutions of the query <code>expr</code>, and returns the conditions under which the query succeeds. If we are just interested in the first solution, we can invoke the query with <code>once(…)</code> instead of <code>findall(…)</code>.</p>
<p>A rather cumbersome aspect of Rolog is the construction of prolog terms and queries. <code>expression(X)</code> encapsulates the variable <code>X</code>, R symbols from <code>quote(jim)</code> or <code>as.symbol(&quot;jim&quot;)</code> are translated to prolog atoms, and prolog compounds such as <code>ancestor/2</code> are generated using <code>call(&quot;ancestor&quot;, …)</code>. In this example, the query succeeds if <em>X</em> is either <code>pat</code>, <code>pam</code>, <code>tom</code> or <code>bob</code>, as indicated by the four bindings for <em>X</em> in the resulting list.</p>
</div>
<div id="non-deterministic-queries" class="section level2">
<h2>Non-deterministic queries</h2>
<p>As an alternative to <code>once(…)</code> and <code>findall(…)</code>, we can create a query with <code>query(…)</code> and <code>submit()</code> the query as often as needed or until it fails, as is shown below for a query like <code>member(X, [1.0, 2.0, Y])</code>, which succeeds if <em>X</em> is either 1, 2 or the same as <em>Y</em>.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true"></a><span class="co"># member(X, [1, 2, Y]).</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true"></a><span class="kw">query</span>(<span class="kw">call</span>(<span class="st">&quot;member&quot;</span>, <span class="kw">expression</span>(X), <span class="kw">list</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="kw">expression</span>(Y))))</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true"></a><span class="co">#&gt; [1] TRUE</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true"></a><span class="co">#&gt; attr(,&quot;query&quot;)</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true"></a><span class="co">#&gt; [1] &quot;member(X, [1.0, 2.0, Y])&quot;</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true"></a><span class="co"># first solution for X</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true"></a><span class="kw">submit</span>()</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true"></a><span class="co">#&gt; $X</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true"></a><span class="co">#&gt; [1] 1</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true"></a></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true"></a><span class="co"># next solution</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true"></a><span class="kw">submit</span>()</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true"></a><span class="co">#&gt; $X</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true"></a><span class="co">#&gt; [1] 2</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true"></a></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true"></a><span class="co"># next solution</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true"></a><span class="kw">submit</span>()</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true"></a><span class="co">#&gt; $Y</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true"></a><span class="co">#&gt; expression(X)</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true"></a></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true"></a><span class="co"># no more results</span></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true"></a><span class="kw">submit</span>()</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true"></a><span class="co">#&gt; [1] FALSE</span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true"></a></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true"></a><span class="co"># warning</span></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true"></a><span class="kw">submit</span>()</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true"></a><span class="co">#&gt; [1] FALSE</span></span></code></pre></div>
<p>Note that in SWI-Prolog, it is generally not possible to open two queries simultaneously, so opening a second query while another one is still open will raise a warning.</p>
</div>
<div id="definite-clause-grammars" class="section level2">
<h2>Definite clause grammars</h2>
<p>One of the main driving forces of prolog development was natural language processing (Dahl, 1981). Therefore, the next example is an illustration of sentence parsing using so-called definite clause grammars.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode prolog"><code class="sourceCode prolog"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true"></a><span class="kw">:-</span> use_module(library(dcg<span class="fu">/</span>basics))<span class="kw">.</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true"></a><span class="co">% R-friendly user interface</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true"></a>sentence(<span class="dt">Tree</span><span class="kw">,</span> <span class="dt">Sentence</span>) <span class="kw">:-</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true"></a>    string_codes(<span class="dt">Sentence</span><span class="kw">,</span> <span class="dt">Codes</span>)<span class="kw">,</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true"></a>    <span class="kw">phrase</span>(s(<span class="dt">Tree</span>)<span class="kw">,</span> <span class="dt">Codes</span>)<span class="kw">.</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true"></a></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true"></a><span class="co">% Simple grammar with sentences, noun, verb and participle phrases</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true"></a>s(s(<span class="dt">NP</span><span class="kw">,</span> <span class="dt">VP</span>)) <span class="kw">--&gt;</span> np(<span class="dt">NP</span><span class="kw">,</span> <span class="dt">C</span>)<span class="kw">,</span> blank<span class="kw">,</span> vp(<span class="dt">VP</span><span class="kw">,</span> <span class="dt">C</span>)<span class="kw">.</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true"></a>np(<span class="dt">NP</span><span class="kw">,</span> <span class="dt">C</span>) <span class="kw">--&gt;</span> pn(<span class="dt">NP</span><span class="kw">,</span> <span class="dt">C</span>)<span class="kw">.</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true"></a>np(np(<span class="dt">Det</span><span class="kw">,</span> <span class="dt">N</span>)<span class="kw">,</span> <span class="dt">C</span>) <span class="kw">--&gt;</span> det(<span class="dt">Det</span><span class="kw">,</span> <span class="dt">C</span>)<span class="kw">,</span> blank<span class="kw">,</span> n(<span class="dt">N</span><span class="kw">,</span> <span class="dt">C</span>)<span class="kw">.</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true"></a>np(np(<span class="dt">Det</span><span class="kw">,</span> <span class="dt">N</span><span class="kw">,</span> <span class="dt">PP</span>)<span class="kw">,</span> <span class="dt">C</span>) <span class="kw">--&gt;</span> det(<span class="dt">Det</span><span class="kw">,</span> <span class="dt">C</span>)<span class="kw">,</span> blank<span class="kw">,</span> n(<span class="dt">N</span><span class="kw">,</span> <span class="dt">C</span>)<span class="kw">,</span> blank<span class="kw">,</span> pp(<span class="dt">PP</span>)<span class="kw">.</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true"></a>vp(vp(<span class="dt">V</span><span class="kw">,</span> <span class="dt">NP</span>)<span class="kw">,</span> <span class="dt">C</span>) <span class="kw">--&gt;</span> v(<span class="dt">V</span><span class="kw">,</span> <span class="dt">C</span>)<span class="kw">,</span> blank<span class="kw">,</span> np(<span class="dt">NP</span><span class="kw">,</span> <span class="dt">_</span>)<span class="kw">.</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true"></a>vp(vp(<span class="dt">V</span><span class="kw">,</span> <span class="dt">NP</span><span class="kw">,</span> <span class="dt">PP</span>)<span class="kw">,</span> <span class="dt">C</span>) <span class="kw">--&gt;</span> v(<span class="dt">V</span><span class="kw">,</span> <span class="dt">C</span>)<span class="kw">,</span> blank<span class="kw">,</span> np(<span class="dt">NP</span><span class="kw">,</span> <span class="dt">_</span>)<span class="kw">,</span> blank<span class="kw">,</span> pp(<span class="dt">PP</span>)<span class="kw">.</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true"></a>pp(pp(<span class="dt">P</span><span class="kw">,</span> <span class="dt">NP</span>)) <span class="kw">--&gt;</span> p(<span class="dt">P</span>)<span class="kw">,</span> blank<span class="kw">,</span> np(<span class="dt">NP</span><span class="kw">,</span> <span class="dt">_</span>)<span class="kw">.</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true"></a></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true"></a><span class="co">% Determiners, personal nouns, nouns, verbs and participles</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true"></a>det(det(a)<span class="kw">,</span> sg) <span class="kw">--&gt;</span> <span class="ot">&quot;</span><span class="er">a</span><span class="ot">&quot;</span><span class="kw">.</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true"></a>det(det(the)<span class="kw">,</span> <span class="dt">_</span>) <span class="kw">--&gt;</span> <span class="ot">&quot;</span><span class="er">the</span><span class="ot">&quot;</span><span class="kw">.</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true"></a>pn(pn(john)<span class="kw">,</span> sg) <span class="kw">--&gt;</span> <span class="ot">&quot;</span><span class="er">john</span><span class="ot">&quot;</span><span class="kw">.</span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true"></a>n(n(man)<span class="kw">,</span> sg) <span class="kw">--&gt;</span> <span class="ot">&quot;</span><span class="er">man</span><span class="ot">&quot;</span><span class="kw">.</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true"></a>n(n(men)<span class="kw">,</span> pl) <span class="kw">--&gt;</span> <span class="ot">&quot;</span><span class="er">men</span><span class="ot">&quot;</span><span class="kw">.</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true"></a>n(n(telescope)<span class="kw">,</span> sg) <span class="kw">--&gt;</span> <span class="ot">&quot;</span><span class="er">telescope</span><span class="ot">&quot;</span><span class="kw">.</span></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true"></a>v(v(sees)<span class="kw">,</span> sg) <span class="kw">--&gt;</span> <span class="ot">&quot;</span><span class="er">sees</span><span class="ot">&quot;</span><span class="kw">.</span></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true"></a>v(v(see)<span class="kw">,</span> pl) <span class="kw">--&gt;</span> <span class="ot">&quot;</span><span class="er">see</span><span class="ot">&quot;</span><span class="kw">.</span></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true"></a>v(v(saw)<span class="kw">,</span> <span class="dt">_</span>) <span class="kw">--&gt;</span> <span class="ot">&quot;</span><span class="er">saw</span><span class="ot">&quot;</span><span class="kw">.</span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true"></a>p(p(with)) <span class="kw">--&gt;</span> <span class="ot">&quot;</span><span class="er">with</span><span class="ot">&quot;</span><span class="kw">.</span></span></code></pre></div>
<p>Listing 2. Simple grammar and lexicon. The <code>sentence/2</code> predicate simplifies the R call.</p>
<p>As in the first example, we first consult a little prolog program with a minimalistic grammar and lexicon (Listing 2), and then raise a query asking for the syntactic structure of “john saw a man with a telescope”. Closer inspection of the two results reveals the two possible meanings, “john saw a man <em>who carries</em> a telescope” versus “john saw a man <em>through</em> a telescope”. More prolog examples of natural language processing are found in Blackburn and Bos (2005), including resolution of anaphoric references and the extraction of semantic meaning.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true"></a><span class="co"># [telescope].</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true"></a><span class="kw">consult</span>(<span class="kw">system.file</span>(<span class="kw">file.path</span>(<span class="st">&quot;pl&quot;</span>, <span class="st">&quot;telescope.pl&quot;</span>), <span class="dt">package=</span><span class="st">&quot;rolog&quot;</span>))</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true"></a><span class="co">#&gt; [1] TRUE</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true"></a><span class="co"># findall(sentence(Tree, &quot;john saw a man with a telescope&quot;)).</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true"></a><span class="kw">findall</span>(<span class="kw">call</span>(<span class="st">&quot;sentence&quot;</span>, <span class="kw">expression</span>(Tree), <span class="st">&quot;john saw a man with a telescope&quot;</span>))</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true"></a><span class="co">#&gt; [[1]]$Tree</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true"></a><span class="co">#&gt; s(pn(john), vp(v(saw), np(det(a), n(man), pp(p(with), np(det(a), </span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true"></a><span class="co">#&gt;     n(telescope))))))</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true"></a><span class="co">#&gt; [[2]]</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true"></a><span class="co">#&gt; [[2]]$Tree</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true"></a><span class="co">#&gt; s(pn(john), vp(v(saw), np(det(a), n(man)), pp(p(with), np(det(a), </span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true"></a><span class="co">#&gt;     n(telescope)))))</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true"></a><span class="co">#&gt; attr(,&quot;query&quot;)</span></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true"></a><span class="co">#&gt; [1] &quot;sentence(Tree, john saw a man with a telescope)&quot;</span></span></code></pre></div>
</div>
<div id="rendering-of-mathematical-expressions" class="section level2">
<h2>Rendering of mathematical expressions</h2>
<p>The R extension of the markdown language (Xie, Dervieux, &amp; Riederer, 2020) enables reproducible statistical reports with nice typesetting in HTML, Microsoft Word, and Latex. However, so far, R expressions such as <code>pbinom(k, N, p)</code> are typeset as-is; mathematical expressions like <span class="math inline">\(P_\mathrm{Bi}(X \le k; N, p)\)</span> require Latex commands such as <code>P_\mathrm{Bi}\left(X \le k; N, p\right)</code>, which are cumbersome and unreadable even for simple expressions. Here we make use of prolog’s grammar rules for the automatic translation of R expressions to MathML. The result can then be rendered on a web page. A limited set of rules for translation from R to MathML is found in <code>pl/mathml.pl</code> of the Rolog package, as well as an example file <code>mathml.Rmd</code>. The relevant code snippets are shown in Listing 3.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true"></a><span class="kw">library</span>(rolog)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true"></a><span class="kw">consult</span>(<span class="kw">system.file</span>(<span class="kw">file.path</span>(<span class="st">&quot;pl&quot;</span>, <span class="st">&quot;mathml.pl&quot;</span>), <span class="dt">package=</span><span class="st">&quot;rolog&quot;</span>))</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true"></a><span class="co">#&gt; [1] TRUE</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true"></a><span class="co"># R interface to prolog predicate r2mathml/2</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true"></a>mathml =<span class="st"> </span><span class="cf">function</span>(term)</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true"></a>{</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true"></a>  t =<span class="st"> </span><span class="kw">once</span>(<span class="kw">call</span>(<span class="st">&quot;r2mathml&quot;</span>, term, <span class="kw">expression</span>(X)))</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true"></a>  <span class="kw">cat</span>(<span class="kw">paste</span>(t<span class="op">$</span>X, <span class="dt">collapse=</span><span class="st">&quot;&quot;</span>))</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true"></a>term =<span class="st"> </span><span class="kw">call</span>(<span class="st">&quot;pbinom&quot;</span>, <span class="kw">quote</span>(k), <span class="kw">quote</span>(N), <span class="kw">quote</span>(p))</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true"></a><span class="kw">mathml</span>(term)</span></code></pre></div>
<p><math><mrow><msub><mi>P</mi><mtext>Bi</mtext></msub><mo>⁡</mo><mrow><mo>(</mo><mrow><mrow><mi>X</mi><mo>≤</mo><mi>k</mi></mrow><mo>;</mo><mrow><mi>N</mi><mo>,</mo><mi>p</mi></mrow></mrow><mo>)</mo></mrow></mrow></math></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true"></a></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true"></a>k =<span class="st"> </span><span class="dv">10</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true"></a>N =<span class="st"> </span><span class="dv">22</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true"></a>p =<span class="st"> </span><span class="fl">0.4</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true"></a><span class="kw">eval</span>(term)</span></code></pre></div>
<p>[1] 0.77195</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true"></a></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true"></a>term =<span class="st"> </span><span class="kw">call</span>(<span class="st">&quot;integrate&quot;</span>, <span class="kw">quote</span>(sin), 0L, <span class="kw">call</span>(<span class="st">&quot;*&quot;</span>, 2L, <span class="kw">quote</span>(pi)))</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true"></a><span class="kw">mathml</span>(term)</span></code></pre></div>
<p><math><mrow><munderover><mo>∫</mo><mn>0</mn><mrow><mn>2</mn><mo>⁢</mo><mi>π</mi></mrow></munderover><mrow><mi>sin</mi><mo>⁡</mo><mrow><mo>(</mo><mi>x</mi><mo>)</mo></mrow></mrow><mspace width="thinmathspace"></mspace><mi>d</mi><mi>x</mi></mrow></math></p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true"></a><span class="kw">eval</span>(term)</span></code></pre></div>
<p>2.221501e-16 with absolute error &lt; 4.4e-14</p>
<p>Listing 3. R markdown file that autogenerates pretty MathML from R expressions.</p>
<p>The integral example is interesting because prolog needs find out the name of the integration variable. For that purpose, Rolog provides a predicate <code>r_eval/2</code> that calls R from prolog (i.e., the reverse direction). Here, the predicate is used for the R function <code>formalArgs(args(sin))</code>, which returns the name of the function argument of <code>sin</code>, that is, <code>x</code>. Note that at the prolog end, <code>integrate(Fun, Lower, Upper)</code> is rather rigid, accepting only these three arguments in that particular order, and without names. In other words, something like <code>integrate(sin, lower=0L, upper=2L * pi)</code> would not print the desired result. A third example in <code>mathml.Rmd</code> illustrates the rendering of self-written functions (not shown here).</p>
</div>
<div id="interval-arithmetic" class="section level2">
<h2>Interval arithmetic</h2>
<p>Let <span class="math inline">\(\langle \ell,u\rangle\)</span> denote a number between <span class="math inline">\(\ell\)</span> and <span class="math inline">\(u\)</span>, <span class="math inline">\(\ell \le u\)</span>. It is easily verified that the difference <span class="math inline">\(\langle \ell_1, u_1\rangle - \langle \ell_2, u_2\rangle\)</span> is somewhere in the interval <span class="math inline">\(\langle \ell_1 - u_2, u_1 - \ell_2\rangle\)</span>, and a number of rules exist for basic arithmetic operations and (piecewise) monotonically behaving functions (Hickey, Ju, &amp; van Emden, 2001). For ratios, denominators with mixed sign yield two possible intervals, for example, <span class="math inline">\(\langle 1, 2\rangle / \langle -3, 3\rangle = \langle -\infty, 3\rangle \cup \langle 3, \infty\rangle\)</span>, as shown in Figure 4 in Hickey et al. (2001). The number of possible candidates increases if more complicated functions are involved, and unions of intervals are, themselves, used as arguments (e.g., if <span class="math inline">\(I_1 \cup I_2\)</span> is added to <span class="math inline">\(I_3 \cup I_4\)</span>, the result is <span class="math inline">\(I_1 + I_3 \cup I_1 + I_4 \cup I_2 + I_3 \cup I_2 + I_4\)</span>). Thus, calculations in interval arithmetic are non-deterministic in nature, with a non-foreseeable number of results (and cannot, in general, be vectorized). Use cases for interval arithmetic are the limitations of floating-point representations in computer hardware, but intervals can also be used to represent the result of a measurement with limited precision, or a truncated intermediate result of a student doing hand calculations. A few rules for basic interval arithmetic are found in <code>pl/interval.pl</code>; two calls from R are shown below.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true"></a><span class="co"># [interval].</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true"></a><span class="kw">consult</span>(<span class="kw">system.file</span>(<span class="kw">file.path</span>(<span class="st">&quot;pl&quot;</span>, <span class="st">&quot;interval.pl&quot;</span>), <span class="dt">package=</span><span class="st">&quot;rolog&quot;</span>))</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true"></a><span class="co">#&gt; [1] TRUE</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true"></a><span class="co"># findall(1 ... 2 / -3 ... 3, Res).</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true"></a>x =<span class="st"> </span><span class="kw">call</span>(<span class="st">&quot;...&quot;</span>, <span class="dv">1</span>, <span class="dv">2</span>)</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true"></a>y =<span class="st"> </span><span class="kw">call</span>(<span class="st">&quot;...&quot;</span>, <span class="dv">-3</span>, <span class="dv">3</span>)</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true"></a><span class="kw">findall</span>(<span class="kw">call</span>(<span class="st">&quot;int&quot;</span>, <span class="kw">call</span>(<span class="st">&quot;/&quot;</span>, x, y), <span class="kw">expression</span>(Res)))</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true"></a><span class="co">#&gt; [[1]]$Res</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true"></a><span class="co">#&gt; ...(-Inf, -0.333333333333333)</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true"></a><span class="co">#&gt; [[2]]</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true"></a><span class="co">#&gt; [[2]]$Res</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true"></a><span class="co">#&gt; ...(0.333333333333333, Inf)</span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true"></a><span class="co">#&gt; attr(,&quot;query&quot;)</span></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true"></a><span class="co">#&gt; [1] &quot;int(1.0...2.0/ -3.0...3.0, Res)&quot;</span></span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true"></a></span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true"></a><span class="co"># t-ratio</span></span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true"></a>D  =<span class="st"> </span><span class="kw">call</span>(<span class="st">&quot;...&quot;</span>, <span class="fl">5.7</span>, <span class="fl">5.8</span>)</span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true"></a>mu =<span class="st"> </span><span class="dv">4</span></span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true"></a>s  =<span class="st"> </span><span class="kw">call</span>(<span class="st">&quot;...&quot;</span>, <span class="fl">3.8</span>, <span class="fl">3.9</span>)</span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true"></a>N  =<span class="st"> </span>24L</span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true"></a><span class="kw">findall</span>(<span class="kw">call</span>(<span class="st">&quot;int&quot;</span>, <span class="kw">call</span>(<span class="st">&quot;/&quot;</span>, <span class="kw">call</span>(<span class="st">&quot;-&quot;</span>, D, mu), <span class="kw">call</span>(<span class="st">&quot;/&quot;</span>, s, <span class="kw">call</span>(<span class="st">&quot;sqrt&quot;</span>, N))),</span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true"></a>                         <span class="kw">expression</span>(Res)))</span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb11-30"><a href="#cb11-30" aria-hidden="true"></a><span class="co">#&gt; [[1]]$Res</span></span>
<span id="cb11-31"><a href="#cb11-31" aria-hidden="true"></a><span class="co">#&gt; ...(2.13545259627251, 2.32056923000512)</span></span>
<span id="cb11-32"><a href="#cb11-32" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb11-33"><a href="#cb11-33" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb11-34"><a href="#cb11-34" aria-hidden="true"></a><span class="co">#&gt; attr(,&quot;query&quot;)</span></span>
<span id="cb11-35"><a href="#cb11-35" aria-hidden="true"></a><span class="co">#&gt; [1] &quot;int((5.7...5.8-4.0)/(3.8...3.9/sqrt(24)), Res)&quot;</span></span></code></pre></div>
<p>The slightly cumbersome syntax for entering an interval l…u is due to the fact that the ellipsis is a reserved symbol in R and cannot be used as an infix operator. A way more powerful and comprehensive system for constraint logic programming over intervals is available as a prolog pack (Workman, 2021) and can easily be connected to R using the present package.</p>
</div>
</div>
<div id="literaturverzeichnis" class="section level1">
<h1>Literaturverzeichnis</h1>
<p>Blackburn, P., &amp; Bos, J. (2005). Representation and Inference for Natural Language. A First Course in Computational Semantics. Stanford: CLSI.</p>
<p>Dahl, V. (1981). Translating Spanish into logic through logic. Americal Journal of Computational Linguistics, 149-164.</p>
<p>Hickey, T., Ju, Q., &amp; van Emden, M. H. (2001). Interval arithmetic: from principles to implementation. Journal of the ACM, 48, 1038-1068.</p>
<p>Workman, R. (2021). clpBNR. Von CLP over reals using interval arithmetic - includes rational, integer and Boolean domains as subsets: <a href="https://github.com/ridgeworks/clpBNR" class="uri">https://github.com/ridgeworks/clpBNR</a> abgerufen</p>
<p>Xie, Y., Dervieux, C., &amp; Riederer, E. (2020). R Markdown Cookbook. Cambridge: Chapman and Hall/CRC.</p>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
